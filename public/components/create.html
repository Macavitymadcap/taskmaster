<form
  x-data="{
        cancelCreate: () => {
            htmx.find('#create-task-form').reset();
            htmx.find('#create-task-dialog').close();
        },
    }"
  id="create-task-form"
  hx-post="/task"
  hx-target="#tasks"
  hx-swap="beforeend"
  hx-on:htmx:after-request="if(event.detail.successful) { this.reset(); htmx.find('#create-task-dialog').close(); }"
>
  <div class="card-header grid">
    <span class="col-1"></span>
    
    <h2 class=" text-center col-10">Add New Task</h2>

    <button
      class="btn btn-icon btn-outline-danger col-1"
      type="button"
      title="Cancel Task Creation"
      @click="cancelCreate()"
    >
      <svg
        aria-hidden="true"
        viewBox="0 0 24 24"
        width="24"
        height="24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="M6 18L18 6"></path>
        <path d="M6 6l12 12"></path>
      </svg>
    </button>
  </div>

  <section class="grid">
    <div class="form-group col-6">
      <label for="title">Title</label>
      <input
        type="text"
        class="form-control"
        id="title"
        name="title"
        placeholder="Task title"
        required
      />
    </div>

    <div class="form-group col-6">
      <label for="description">Description</label>
      <textarea
        id="description"
        name="description"
        placeholder="Task description"
        rows="3"
      ></textarea>
    </div>
  </section>

  <section class="grid">
    <div class="form-group col-6">
      <label for="due-date">Due Date</label>
      <input
        type="datetime-local"
        class="form-control"
        id="due-date"
        name="due_date"
      />
    </div>

    <div class="form-group col-6">
      <label for="status">Status</label>
      <select id="status" class="form-control" name="status">
        <option value="pending">Pending</option>
        <option value="in-progress">In Progress</option>
        <option value="completed">Completed</option>
      </select>
    </div>
  </section>

  <section class="wrapped-row">
    <button
      class="btn btn-outline-primary"
      type="submit"
      title="Submit Task"
    >
      Create Task
    </button>

    <button
      class="btn btn-outline-warning"
      type="reset"
      title="Reset Form"
    >
      Reset Form
    </button>
  </section>
</form>